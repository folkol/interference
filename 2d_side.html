<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>title</title>
	<script>
	settings =  {
		canvas: {
			width: 600,
			height: 400
		},
		roughness: 5
	}

	red_wave = {
		phaseshift: 0,
		amplitude: 50,
		wavelength: 60,
		speed: 1,
		color: 'rgba(255,0,0,0.3)'
	}

	blue_wave = {
		phaseshift: 0,
		amplitude: 50,
		wavelength: 60,
		speed: -1,
		color: 'rgba(0,0,255,0.5)'
	}

	function render() {
		function renderWave(wave) {
			wave.phaseshift += wave.speed;

			ctx.beginPath();
			ctx.strokeStyle = wave.color;
			ctx.lineWidth = 1;
			for(x = 0; x <= settings.canvas.width; x += settings.roughness) {
				var dy = settings.canvas.height / 2;
				var y = dy += wave.amplitude * Math.sin((x + wave.phaseshift) / wave.wavelength);
				ctx.lineTo(x, y);
			}
			ctx.stroke();
		};
		function renderSuperposition(waves) {
			ctx.beginPath();
			ctx.strokeStyle = "#000"
			ctx.lineWidth = 3;
			for(x = 0; x <= settings.canvas.width; x += settings.roughness) {
				var dy = settings.canvas.height / 2;
				var y = dy;
				waves.forEach(function(wave) {
					y += wave.amplitude * Math.sin((x + wave.phaseshift) / wave.wavelength);
				})
				ctx.lineTo(x, y);
			}
			ctx.stroke();
		};
		function drawAxis() {
			ctx.beginPath();
			ctx.lineWidth = 1;
			ctx.strokeStyle = 'rgba(100,100,100,0.3)';
			for(var c = 0; c <= settings.canvas.width; c += 20) {
				ctx.moveTo(0, c + 0.5); // Right on top of pixelrow
				ctx.lineTo(settings.canvas.width, c + 0.5);
				ctx.moveTo(c + 0.5, 0);
				ctx.lineTo(c + 0.5, settings.canvas.height);
			}
			ctx.stroke();

		}

		var c = document.getElementById("myCanvas");
		var ctx = c.getContext("2d");
		ctx.clearRect(0, 0, settings.canvas.width, settings.canvas.height);

		drawAxis();
		renderWave(red_wave);
		renderWave(blue_wave);
		renderSuperposition([red_wave, blue_wave]);
	}
	window.onload=function() {
		setInterval(render, 1000/60);
	};
	</script>
</head>
<body>
	<canvas id="myCanvas" width="600" height="400" style="border:1px solid #000000; float: left;">
	</canvas>
	<p>ax: <span id="ax"></span></p>
</body>
</html>